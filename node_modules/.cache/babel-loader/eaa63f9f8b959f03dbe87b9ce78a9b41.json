{"ast":null,"code":"var _jsxFileName = \"/Users/aliceguegan/Documents/CODAGE/recette-app/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction recette(n, i1, i2) {\n  this.nom = n;\n  this.ingredients = i1;\n  this.instructions = i2;\n}\n\nlet recettesList = [];\n\nclass Recettes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nom: '',\n      ingredients: {},\n      instructions: ''\n    };\n    this.getRecipe = this.getRecipe.bind(this);\n    this.handleName = this.handleName.bind(this);\n    this.handleIngredients = this.handleIngredients.bind(this);\n    this.handleInstructions = this.handleInstructions.bind(this);\n    this.edit = this.edit.bind(this);\n    this.saveModifs = this.saveModifs.bind(this);\n    this.delete = this.delete.bind(this);\n    this.close = this.close.bind(this);\n  }\n\n  getRecipe(e) {\n    let selectedRecipe = recettesList.filter(toFind => toFind.nom === e.target.id)[0];\n    console.log(selectedRecipe);\n    this.setState({\n      nom: selectedRecipe.nom,\n      ingredients: selectedRecipe.ingredients,\n      instructions: selectedRecipe.instructions\n    });\n    document.getElementById(\"boutons-recette\").style.display = \"block\";\n    document.getElementById(\"recette-detail\").style.display = \"block\";\n  }\n\n  handleName(e) {\n    return this.setState({\n      name: e.target.value\n    });\n  }\n\n  handleIngredients(e) {\n    let newIngredients = this.state.ingredients;\n    newIngredients[e.target.name] = e.target.value;\n    return this.setState({\n      ingredients: newIngredients\n    });\n  }\n\n  handleInstructions(e) {\n    return this.setState({\n      instructions: e.target.value\n    });\n  }\n\n  edit() {\n    document.getElementById(\"nom-recette\").style.display = \"none\";\n    document.getElementById(\"ingredients-recette\").style.display = \"none\";\n    document.getElementById(\"instructions-recette\").style.display = \"none\";\n    document.getElementById(\"nom-recette-edit\").style.display = \"block\";\n    document.getElementById(\"ingredients-recette-edit\").style.display = \"block\";\n    document.getElementById(\"instructions-recette-edit\").style.display = \"block\";\n    document.getElementById(\"edit-fini\").style.display = \"block\";\n  }\n\n  saveModifs() {\n    if (document.getElementById(\"nom-recette\").innerText !== '' && document.getElementById(\"ingredients-recette\").innerText !== '' && document.getElementById(\"instructions-recette\").innerText !== '') {\n      document.getElementById(\"nom-recette-edit\").style.display = \"none\";\n      document.getElementById(\"ingredients-recette-edit\").style.display = \"none\";\n      document.getElementById(\"instructions-recette-edit\").style.display = \"none\";\n      document.getElementById(\"nom-recette\").style.display = \"block\";\n      document.getElementById(\"ingredients-recette\").style.display = \"block\";\n      document.getElementById(\"instructions-recette\").style.display = \"block\";\n      document.getElementById(\"edit-fini\").style.display = \"none\";\n      document.getElementById(\"error-edit\").style.display = \"none\";\n      let selectedRecipe = recettesList.filter(toFind => toFind.nom === this.state.nom)[0];\n      let indexToReplace = recettesList.indexOf(selectedRecipe);\n      let newIngredientsArr = document.getElementById(\"ingredients-recette\").innerText.split(/\\n/);\n      let newIngredients = {};\n\n      for (let i = 0; i < newIngredientsArr.length; i++) {\n        newIngredients[i] = newIngredientsArr[i];\n      }\n\n      ;\n      let updatedRecipe = new recette(document.getElementById(\"nom-recette-edit\").innerText, newIngredients, document.getElementById(\"instructions-recette-edit\").innerText);\n      recettesList.splice(indexToReplace, 1, updatedRecipe);\n    } else {\n      document.getElementById(\"error-edit\").style.display = \"block\";\n    }\n  }\n\n  close() {\n    document.getElementById(\"recette-detail\").style.display = \"none\";\n  }\n\n  delete() {\n    let selectedRecipe = recettesList.filter(toFind => toFind.nom === this.state.nom)[0];\n    let indexToDelete = recettesList.indexOf(selectedRecipe);\n    recettesList.splice(indexToDelete, 1);\n    this.setState({\n      nom: '',\n      ingredients: {},\n      instructions: ''\n    });\n    this.close();\n  }\n\n  render() {\n    if (recettesList.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Aucune recette enregistr\\xE9e\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Toutes les recettes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"liste-recettes\",\n          children: recettesList.map(item => /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: this.getRecipe,\n            id: item.nom,\n            children: item.nom\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 38\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"recette-detail\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"boutons-recette\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              title: \"Editer\",\n              onClick: this.edit,\n              children: \"\\u270E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              title: \"Supprimer\",\n              onClick: this.delete,\n              children: \"\\uD83D\\uDDD1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              title: \"Fermer\",\n              onClick: this.close,\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            id: \"nom-recette\",\n            children: this.state.nom\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"nom-recette-edit\",\n            defaultValue: this.state.nom,\n            onChange: this.handleName,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            id: \"ingredients-recette\",\n            children: Object.keys(this.state.ingredients).map(key => {\n              if (this.state.ingredients[key]) {\n                return /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: this.state.ingredients[key]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 24\n                }, this);\n              } else {\n                return null;\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"ingredients-recette-edit\",\n            children: Object.keys(this.state.ingredients).map(key => {\n              if (this.state.ingredients[key]) {\n                return /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"edit-ingredient\",\n                  onChange: this.handleIngredients,\n                  defaultValue: this.state.ingredients[key]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 24\n                }, this);\n              } else {\n                return null;\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"instructions-recette\",\n            children: this.state.instructions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"instructions-recette-edit\",\n            onChange: this.handleInstructions,\n            defaultValue: this.state.instructions,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"edit-fini\",\n            onClick: this.saveModifs,\n            children: \"J'ai termin\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"error-edit\",\n            children: \"Champ(s) manquant(s)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this);\n    }\n  }\n\n}\n\n;\n\nclass Ajouter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ingredientsCounter: [0, 1, 2, 3, 4, 5],\n      nom: '',\n      ingredients: {\n        0: '',\n        1: '',\n        2: '',\n        3: '',\n        4: '',\n        5: ''\n      },\n      instructions: ''\n    };\n    this.newIngredient = this.newIngredient.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleName = this.handleName.bind(this);\n    this.handleIngredients = this.handleIngredients.bind(this);\n    this.handleInstructions = this.handleInstructions.bind(this);\n  }\n\n  newIngredient(e) {\n    e.preventDefault();\n    return this.setState({\n      ingredientsCounter: [...this.state.ingredientsCounter, this.state.ingredientsCounter[this.state.ingredientsCounter.length - 1] + 1],\n      ingredients: { ...this.state.ingredients,\n        [this.state.ingredientsCounter[this.state.ingredientsCounter.length - 1] + 1]: ''\n      }\n    });\n  }\n\n  handleName(e) {\n    document.getElementById(\"success\").style.display = \"none\";\n    return this.setState({\n      name: e.target.value\n    });\n  }\n\n  handleIngredients(e) {\n    document.getElementById(\"success\").style.display = \"none\";\n    let newIngredients = this.state.ingredients;\n    newIngredients[e.target.name] = e.target.value;\n    return this.setState({\n      ingredients: newIngredients\n    });\n  }\n\n  handleInstructions(e) {\n    document.getElementById(\"success\").style.display = \"none\";\n    return this.setState({\n      instructions: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    if (this.state.name && this.state.ingredients[0] && this.state.instructions) {\n      e.preventDefault();\n      let item = new recette(this.state.name, this.state.ingredients, this.state.instructions);\n      recettesList.push(item);\n      document.getElementById(\"recipe-form\").reset();\n      document.getElementById(\"success\").style.display = \"block\";\n      this.setState({\n        ingredientsCounter: [0, 1, 2, 3, 4, 5],\n        nom: '',\n        ingredients: {\n          0: '',\n          1: '',\n          2: '',\n          3: '',\n          4: '',\n          5: ''\n        },\n        instructions: ''\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Ajouter une nouvelle recette :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"recipe-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Nom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          defaultValue: this.state.nom,\n          onChange: this.handleName,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 44\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Ingr\\xE9dients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"inputs\",\n            children: Array.from(this.state.ingredientsCounter).map(item => {\n              if (item === 0) {\n                return /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"ingredient\",\n                  onChange: this.handleIngredients,\n                  name: item,\n                  defaultValue: this.state.ingredients[item],\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 26\n                }, this);\n              } else {\n                return /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"ingredient\",\n                  onChange: this.handleIngredients,\n                  name: item,\n                  defaultValue: this.state.ingredients[item]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 26\n                }, this);\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.newIngredient,\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"instructions\",\n          children: \"Instructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"instructions\",\n          defaultValue: this.state.instructions,\n          onChange: this.handleInstructions,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 61\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: this.handleSubmit,\n          children: \"Envoyer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"success\",\n        children: \"Recette ajout\\xE9e !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\n;\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: /*#__PURE__*/_jsxDEV(Recettes, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 16\n      }, void 0)\n    };\n    this.add = this.add.bind(this);\n    this.recette = this.recette.bind(this);\n  }\n\n  add() {\n    return this.setState({\n      content: /*#__PURE__*/_jsxDEV(Ajouter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 38\n      }, this)\n    });\n  }\n\n  recette() {\n    return this.setState({\n      content: /*#__PURE__*/_jsxDEV(Recettes, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 38\n      }, this)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Mes recettes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.recette,\n        children: \"Recettes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.add,\n        children: \"Ajouter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"main\",\n        children: this.state.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;\n/*User Story: I can create recipes that have names and ingredients.\n\nUser Story: I can see an index view where the names of all the recipes are visible.\n\nUser Story: I can click into any of those recipes to view it.\n\nUser Story: I can edit these recipes.\n\nUser Story: I can delete these recipes.\n\nUser Story: All new recipes I add are saved in my browser's local storage. If I refresh the page, these recipes will still be there.*/","map":{"version":3,"sources":["/Users/aliceguegan/Documents/CODAGE/recette-app/src/App.js"],"names":["React","recette","n","i1","i2","nom","ingredients","instructions","recettesList","Recettes","Component","constructor","props","state","getRecipe","bind","handleName","handleIngredients","handleInstructions","edit","saveModifs","delete","close","e","selectedRecipe","filter","toFind","target","id","console","log","setState","document","getElementById","style","display","name","value","newIngredients","innerText","indexToReplace","indexOf","newIngredientsArr","split","i","length","updatedRecipe","splice","indexToDelete","render","map","item","Object","keys","key","Ajouter","ingredientsCounter","newIngredient","handleSubmit","preventDefault","push","reset","Array","from","App","content","add"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\n\nfunction recette (n, i1, i2) {\n    this.nom = n;\n    this.ingredients = i1;\n    this.instructions = i2;\n}\n\nlet recettesList = [];\n\nclass Recettes extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      nom: '',\n      ingredients: {},\n      instructions: ''\n    };\n    this.getRecipe = this.getRecipe.bind(this);\n    this.handleName = this.handleName.bind(this);\n    this.handleIngredients = this.handleIngredients.bind(this);\n    this.handleInstructions = this.handleInstructions.bind(this);\n    this.edit = this.edit.bind(this);\n    this.saveModifs = this.saveModifs.bind(this);\n    this.delete = this.delete.bind(this);\n    this.close = this.close.bind(this);\n  }\n\n  getRecipe(e){\n      let selectedRecipe = recettesList.filter(toFind => toFind.nom === e.target.id)[0];\n    console.log(selectedRecipe)\n    this.setState({nom: selectedRecipe.nom, ingredients: selectedRecipe.ingredients, instructions: selectedRecipe.instructions});\n\n    document.getElementById(\"boutons-recette\").style.display = \"block\";\n    document.getElementById(\"recette-detail\").style.display = \"block\";\n  };\n\n  handleName(e){\n    return this.setState({name: e.target.value})\n  }\n\n  handleIngredients(e){\n    let newIngredients = this.state.ingredients\n    newIngredients[e.target.name] = e.target.value\n    return this.setState({ingredients: newIngredients})\n  };\n\n  handleInstructions(e){\n    return this.setState({instructions: e.target.value})\n  }\n\n  edit(){\n    document.getElementById(\"nom-recette\").style.display = \"none\";\n    document.getElementById(\"ingredients-recette\").style.display = \"none\";\n    document.getElementById(\"instructions-recette\").style.display = \"none\";\n\n    document.getElementById(\"nom-recette-edit\").style.display = \"block\";\n    document.getElementById(\"ingredients-recette-edit\").style.display = \"block\";\n    document.getElementById(\"instructions-recette-edit\").style.display = \"block\";\n\n    document.getElementById(\"edit-fini\").style.display = \"block\";\n  };\n\n  saveModifs(){\n    if(document.getElementById(\"nom-recette\").innerText !== '' && document.getElementById(\"ingredients-recette\").innerText !== '' && document.getElementById(\"instructions-recette\").innerText !== ''){\n      document.getElementById(\"nom-recette-edit\").style.display = \"none\";\n      document.getElementById(\"ingredients-recette-edit\").style.display = \"none\";\n      document.getElementById(\"instructions-recette-edit\").style.display = \"none\";\n\n      document.getElementById(\"nom-recette\").style.display = \"block\";\n      document.getElementById(\"ingredients-recette\").style.display = \"block\";\n      document.getElementById(\"instructions-recette\").style.display = \"block\";\n\n      document.getElementById(\"edit-fini\").style.display = \"none\";\n      document.getElementById(\"error-edit\").style.display = \"none\";\n\n      let selectedRecipe = recettesList.filter(toFind => toFind.nom === this.state.nom)[0];\n      let indexToReplace = recettesList.indexOf(selectedRecipe);\n\n      let newIngredientsArr = document.getElementById(\"ingredients-recette\").innerText.split(/\\n/);\n      let newIngredients = {};\n      for(let i = 0; i < newIngredientsArr.length; i++){\n        newIngredients[i] = newIngredientsArr[i];\n      };\n\n      let updatedRecipe = new recette(document.getElementById(\"nom-recette-edit\").innerText, newIngredients, document.getElementById(\"instructions-recette-edit\").innerText);\n\n      recettesList.splice(indexToReplace, 1, updatedRecipe);\n\n    } else {\n      document.getElementById(\"error-edit\").style.display = \"block\";\n    }\n  }\n\n  close(){\n    document.getElementById(\"recette-detail\").style.display = \"none\";\n  };\n\n  delete(){\n    let selectedRecipe = recettesList.filter(toFind => toFind.nom === this.state.nom)[0];\n    let indexToDelete = recettesList.indexOf(selectedRecipe);\n    recettesList.splice(indexToDelete, 1);\n\n    this.setState({\n      nom: '',\n      ingredients: {},\n      instructions: ''\n    })\n\n    this.close();\n  };\n\n  render(){\n\n    if(recettesList.length === 0){\n      return (\n        <div>\n          <h3>Aucune recette enregistrée</h3>\n        </div>\n      )\n    } else {\n    return (\n      <div>\n        <h2>Toutes les recettes</h2>\n        <div id=\"liste-recettes\">\n          {recettesList.map(item => (<p onClick={this.getRecipe} id={item.nom}>{item.nom}</p>))}\n        </div>\n        <div id=\"recette-detail\">\n          <div id=\"boutons-recette\">\n            <button title=\"Editer\" onClick={this.edit}>✎</button>\n            <button title=\"Supprimer\" onClick={this.delete}>🗑</button>\n            <button title=\"Fermer\" onClick={this.close}>X</button>\n          </div>\n          <h3 id=\"nom-recette\">{this.state.nom}</h3>\n          <input type=\"text\" id=\"nom-recette-edit\" defaultValue={this.state.nom} onChange={this.handleName} required></input>\n          <ul id=\"ingredients-recette\">\n            {Object.keys(this.state.ingredients).map(key => {\n              if(this.state.ingredients[key]){\n                return <li>{this.state.ingredients[key]}</li>\n              } else {\n                return null;\n              }\n            })}\n          </ul>\n            <div id=\"ingredients-recette-edit\">\n            {Object.keys(this.state.ingredients).map(key => {\n              if(this.state.ingredients[key]){\n                return <input type=\"text\" className=\"edit-ingredient\" onChange={this.handleIngredients} defaultValue={this.state.ingredients[key]}></input>\n              } else {\n                return null;\n              }\n            })}\n            </div>\n          <p id=\"instructions-recette\">{this.state.instructions}</p>\n          <textarea id=\"instructions-recette-edit\" onChange={this.handleInstructions} defaultValue={this.state.instructions} required></textarea>\n          <button id=\"edit-fini\" onClick={this.saveModifs}>J'ai terminé</button>\n          <p id=\"error-edit\">Champ(s) manquant(s)</p>\n        </div>\n      </div>\n    )\n  }\n  }\n};\n\nclass Ajouter extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      ingredientsCounter: [0, 1, 2, 3, 4, 5],\n      nom: '',\n      ingredients: {0 : '', 1: '', 2: '', 3: '', 4: '', 5:''},\n      instructions: ''\n    };\n    this.newIngredient = this.newIngredient.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleName = this.handleName.bind(this);\n    this.handleIngredients = this.handleIngredients.bind(this);\n    this.handleInstructions = this.handleInstructions.bind(this);\n  }\n\n  newIngredient(e){\n    e.preventDefault();\n    return this.setState({ingredientsCounter: [...this.state.ingredientsCounter, this.state.ingredientsCounter[this.state.ingredientsCounter.length - 1] + 1],\n                          ingredients: {...this.state.ingredients, [this.state.ingredientsCounter[this.state.ingredientsCounter.length - 1] + 1]: ''}})\n  };\n\n  handleName(e){\n    document.getElementById(\"success\").style.display = \"none\";\n    return this.setState({name: e.target.value})\n  };\n\n  handleIngredients(e){\n    document.getElementById(\"success\").style.display = \"none\";\n    let newIngredients = this.state.ingredients\n    newIngredients[e.target.name] = e.target.value\n    return this.setState({ingredients: newIngredients})\n  };\n\n  handleInstructions(e){\n    document.getElementById(\"success\").style.display = \"none\";\n    return this.setState({instructions: e.target.value})\n  }\n\n  handleSubmit(e){\n    if(this.state.name && this.state.ingredients[0] && this.state.instructions){\n      e.preventDefault();\n\n      let item = new recette(this.state.name, this.state.ingredients, this.state.instructions);\n\n      recettesList.push(item);\n\n      document.getElementById(\"recipe-form\").reset();\n      document.getElementById(\"success\").style.display = \"block\";\n\n      this.setState({ingredientsCounter: [0, 1, 2, 3, 4, 5],\n        nom: '',\n        ingredients: {0 : '', 1: '', 2: '', 3: '', 4: '', 5:''},\n        instructions: ''})\n    }\n  };\n\n  render(){\n\n    return (\n      <div>\n        <h2>Ajouter une nouvelle recette :</h2>\n\n        <form id=\"recipe-form\">\n          <label htmlFor=\"name\">Nom</label><input type=\"text\" id=\"name\" defaultValue={this.state.nom} onChange={this.handleName} required></input>\n          <br />\n          <fieldset>\n            <legend>Ingrédients</legend>\n            <div id=\"inputs\">\n              {Array.from(this.state.ingredientsCounter).map(item => {\n                if(item === 0){\n                  return <input type=\"text\" className=\"ingredient\" onChange={this.handleIngredients} name={item} defaultValue={this.state.ingredients[item]} required></input>\n                } else {\n                  return <input type=\"text\" className=\"ingredient\" onChange={this.handleIngredients} name={item} defaultValue={this.state.ingredients[item]}></input>\n                }\n              })}\n            </div>\n            <button onClick={this.newIngredient}>+</button>\n          </fieldset>\n          <label htmlFor=\"instructions\">Instructions</label><textarea id=\"instructions\" defaultValue={this.state.instructions} onChange={this.handleInstructions} required></textarea>\n          <br />\n          <button type=\"submit\" onClick={this.handleSubmit}>Envoyer</button>\n        </form>\n        <p id=\"success\">Recette ajoutée !</p>\n      </div>\n    )\n  }\n};\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      content: <Recettes />\n    };\n    this.add = this.add.bind(this);\n    this.recette = this.recette.bind(this);\n  }\n\n    add(){\n      return this.setState({content: <Ajouter />})\n    }\n\n    recette(){\n      return this.setState({content: <Recettes />})\n    }\n  render(){\n\n    return (\n      <div>\n        <h1>Mes recettes</h1>\n        <button onClick={this.recette}>Recettes</button>\n        <button onClick={this.add}>Ajouter</button>\n        <div id=\"main\">{this.state.content}</div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n\n\n/*User Story: I can create recipes that have names and ingredients.\n\nUser Story: I can see an index view where the names of all the recipes are visible.\n\nUser Story: I can click into any of those recipes to view it.\n\nUser Story: I can edit these recipes.\n\nUser Story: I can delete these recipes.\n\nUser Story: All new recipes I add are saved in my browser's local storage. If I refresh the page, these recipes will still be there.*/"]},"metadata":{},"sourceType":"module"}